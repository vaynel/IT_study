μΆ‹μµλ‹λ‹¤. μ΄μ  λ„¤νΈμ›ν¬ κΈ°λ³Έ μ¤‘μ—μ„λ„ μ‹¤λ¬΄μ—μ„ μ•„μ£Ό μ¤‘μ”ν• \*\*DHCP (Dynamic Host Configuration Protocol)\*\*λ¥Ό μƒμ„Έν μ •λ¦¬ν•΄λ“λ¦΄κ²μ”. κ°λ…λ¶€ν„° μ‹¤μ  λ™μ‘ κ³Όμ •, μ‹¤λ¬΄ μ„¤μ •, λ¬Έμ  μƒν™©κΉμ§€ ν¬ν•¨ν•©λ‹λ‹¤.

---

# π“΅ DHCP (Dynamic Host Configuration Protocol) μ™„μ „ μ •λ¦¬

---

## β… DHCPλ€?

> **IP μ£Όμ†λ¥Ό μλ™μΌλ΅ ν• λ‹Ήν•΄μ£Όλ” ν”„λ΅ν† μ½**μ…λ‹λ‹¤.
> ν΄λΌμ΄μ–ΈνΈκ°€ λ„¤νΈμ›ν¬μ— μ—°κ²°λ  λ•, ν•„μ”ν• IP μ •λ³΄(DNS, κ²μ΄νΈμ›¨μ΄ ν¬ν•¨)λ¥Ό DHCP μ„λ²„κ°€ μλ™μΌλ΅ λ¶€μ—¬ν•©λ‹λ‹¤.

* **OSI 7κ³„μΈµ μ¤‘ Application Layer**
* IPλ” λ¬Όλ΅  **μ„λΈλ„· λ§μ¤ν¬, DNS, κ²μ΄νΈμ›¨μ΄, λ¦¬μ¤ νƒ€μ„** λ“±λ„ ν•¨κ» μ„¤μ •

---

## π”§ μ™ DHCPκ°€ ν•„μ”ν•κ°€?

* μλ™ IP μ„¤μ •μ€ μ‚¬λμ΄ κ΄€λ¦¬ν•κΈ° μ–΄λ µκ³  μ¤λ¥κ°€ λ§μ
* μμ² λ€ μ¥λΉ„κ°€ μλ™μΌλ΅ IPλ¥Ό κ°€μ Έμ™€μ•Ό ν•λ” λ€κ·λ¨ λ„¤νΈμ›ν¬μ—μ„ ν•„μ
* μ£Όμ† μ¶©λ λ°©μ§€ λ° μ„μ‹ μ¥λΉ„ μ ‘μ†μ— μ λ¦¬

---

## π” DHCP λ™μ‘ κ³Όμ • (DORA λ°©μ‹)

```plaintext
1. Discover β†’ 2. Offer β†’ 3. Request β†’ 4. Acknowledge
```

### π“¶ 1. DHCP Discover

* ν΄λΌμ΄μ–ΈνΈκ°€ λ„¤νΈμ›ν¬μ— μ ‘μ†ν•  λ• \*\*λΈλ΅λ“μΊμ¤νΈ(255.255.255.255)\*\*λ΅ DHCP μ„λ²„ μ°Ύμ

### π“¬ 2. DHCP Offer

* DHCP μ„λ²„κ°€ μ‚¬μ© κ°€λ¥ν• IPμ™€ κΈ°νƒ€ μ„¤μ • μ •λ³΄λ¥Ό ν¬ν•¨ν•΄ μ‘λ‹µ

### π“© 3. DHCP Request

* ν΄λΌμ΄μ–ΈνΈκ°€ λ°›μ€ μ μ• μ¤‘ ν•λ‚λ¥Ό μ„ νƒν•μ—¬ **μ”μ²­**

### β… 4. DHCP ACK

* μ„λ²„κ°€ μ”μ²­μ„ μλ½ν•κ³ , ν•΄λ‹Ή IPλ¥Ό **λ¦¬μ¤(lease)** ν•νƒλ΅ λ¶€μ—¬

---

## π—‚οΈ DHCPκ°€ ν• λ‹Ήν•λ” μ •λ³΄ ν•­λ©

| ν•­λ©               | μ„¤λ…                     |
| ---------------- | ---------------------- |
| IP Address       | ν΄λΌμ΄μ–ΈνΈμ— ν• λ‹Ήν•  IP μ£Όμ†       |
| Subnet Mask      | μ„λΈλ„· λ²”μ„ μ§€μ •              |
| Gateway (Router) | μ™Έλ¶€λ΅ λ‚κ° κΈ°λ³Έ κ²½λ΅           |
| DNS Servers      | μ΄λ¦„ ν•΄μ„μ© μ„λ²„              |
| Lease Time       | IP μ£Όμ† μ„λ€ μ‹κ°„ (ex: 24μ‹κ°„) |
| Domain Name      | λ‚΄λ¶€ λ„¤νΈμ›ν¬ λ„λ©”μΈ μ§€μ •         |
| NTP Server       | μ‹κ°„ λ™κΈ°ν™”λ¥Ό μ„ν• μ„λ²„ μ§€μ • (μ„ νƒ)  |

---

## π  μ‹¤λ¬΄ μμ‹

### μ: κ°€μ •μ© κ³µμ κΈ°

* DHCP μ„λ²„: κ³µμ κΈ°
* ν΄λΌμ΄μ–ΈνΈ: λ…ΈνΈλ¶, μ¤λ§νΈν° λ“±
* μ—°κ²° μ¦‰μ‹ `192.168.0.x` λ€μ IP, κ²μ΄νΈμ›¨μ΄, DNS μλ™ λ¶€μ—¬

### μ: λ¦¬λ…μ¤ μ„λ²„μ—μ„ μλ™ μ„¤μ •

```bash
sudo dhclient eth0
```

β†’ eth0 μΈν„°νμ΄μ¤λ΅ DHCP Discover λ³΄λ‚΄κ³  μλ™ IP μ”μ²­

---

## π–¥οΈ λ¦¬λ…μ¤μ—μ„ DHCP μ„λ²„ κµ¬μ„± μμ‹ (ISC-DHCP)

### `/etc/dhcp/dhcpd.conf` μμ‹:

```conf
subnet 192.168.100.0 netmask 255.255.255.0 {
  range 192.168.100.10 192.168.100.100;
  option routers 192.168.100.1;
  option domain-name-servers 8.8.8.8, 1.1.1.1;
  default-lease-time 600;
  max-lease-time 7200;
}
```

---

## π” DHCP vs Static IP

| ν•­λ©       | DHCP       | Static IP             |
| -------- | ---------- | --------------------- |
| μ„¤μ • νΈμμ„±   | μλ™         | μλ™                    |
| IP μ¶©λ μ„ν— | λ‚®μ         | μμ                    |
| κ΄€λ¦¬ λ€κ·λ¨   | μ‰¬μ›€         | μ–΄λ ¤μ›€                   |
| μ‚¬μ© μ©λ„    | λ€λ¶€λ¶„μ ν΄λΌμ΄μ–ΈνΈ | μ„λ²„, ν”„λ¦°ν„° λ“± κ³ μ • μ£Όμ† ν•„μ” μ¥λΉ„ |

---

## β οΈ λ¬Έμ  μƒν™© & λ””λ²„κΉ…

### π› οΈ "IPλ¥Ό λ» λ°›λ”λ‹¤":

* μ„λ²„κ°€ μ—†μ / λΈλ΅λ“μΊμ¤νΈ μ°¨λ‹¨λ¨ / μ¤‘κ°„ μ¤μ„μΉκ°€ relay μ• ν•¨

### π› οΈ "κ³„μ† λ‹¤λ¥Έ IPλ¥Ό λ°›λ”λ‹¤":

* lease time μ§§κ±°λ‚, IP λ²”μ„ λ‚΄ λ‹¤λ¥Έ μ¥λΉ„μ™€ μ¶©λ

### π› οΈ λ΅κ·Έ ν™•μΈ:

* μ„λ²„:

  ```bash
  tail -f /var/log/syslog | grep dhcpd
  ```
* ν΄λΌμ΄μ–ΈνΈ:

  ```bash
  journalctl -u NetworkManager
  ```

---

## π§  κ³ κΈ‰ κΈ°λ¥

* **DHCP Reservation**: MAC μ£Όμ† κΈ°λ° κ³ μ • IP ν• λ‹Ή
* **PXE λ¶€ν…**: DHCP + TFTP μ΅°ν•©μΌλ΅ λ¬΄λ””μ¤ν¬ μ„λ²„ λ¶€ν…
* **DHCP Relay Agent**: λ‹¤λ¥Έ μ„λΈλ„·μ DHCP μ„λ²„μ™€ μ—°κ²°

---

## β… κ²°λ΅ 

> DHCPλ” IP ν• λ‹Ήμ„ μλ™ν™”ν•¨μΌλ΅μ¨ λ„¤νΈμ›ν¬ μ΄μμ κΈ°λ³Έ μΈν”„λΌλ¥Ό μ κ³µν•©λ‹λ‹¤.
> νΉν ν΄λΌμ°λ“, VM, μ»¨ν…μ΄λ„ ν™κ²½μ—μ„ **λ™μ  ν™κ²½μ„ κ΄€λ¦¬ν•λ” ν•µμ‹¬ μ”μ†**μ…λ‹λ‹¤.
